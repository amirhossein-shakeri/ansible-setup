[defaults]
# Run more hosts in parallel (tune to your infra; 20â€“50 is common)
forks = 40

# Skip retries files, trim fact work
retry_files_enabled = False
gathering = smart
fact_caching = jsonfile
fact_caching_connection = .ansible_fact_cache
fact_caching_timeout = 86400    # 1 day
timeout = 30                    # SSH connect timeout

# Fewer bytes over the wire
display_skipped_hosts = False
stdout_callback = yaml

# Optional: if Python path is known on remotes, avoid discovery cost
interpreter_python = /usr/bin/python3

[ssh_connection]
pipelining = True
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o ControlPath=~/.ssh/ansible-%%r@%%h:%%p
# Prefer sftp; fall back to scp if needed
transfer_method = smart
